<UserControl x:Class="RackMonitor.UserControls.CustomStatusToolTip"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:RackMonitor.UserControls"
             mc:Ignorable="d"
             d:DesignHeight="80" d:DesignWidth="250"
             x:Name="ToolTipViewRoot"
             Background="#FF0d0d0d">
    <UserControl.Resources>
        <SolidColorBrush x:Key="AppBackgroundBrush" Color="#FF0d0d0d"/>
        <SolidColorBrush x:Key="PanelBackgroundBrush" Color="#FF1a1a1a"/>
        <SolidColorBrush x:Key="SlotBackgroundBrush" Color="#FF2a2a2a"/>
        <SolidColorBrush x:Key="BorderBrush" Color="#FF333333"/>
        <SolidColorBrush x:Key="SlotBorderBrush" Color="#FF3a3a3a"/>
        <SolidColorBrush x:Key="TextPrimaryBrush" Color="#FFf0f0f0"/>
        <SolidColorBrush x:Key="TextSecondaryBrush" Color="#FF999999"/>
        <SolidColorBrush x:Key="AccentBrush" Color="#FF448aff"/>
        <SolidColorBrush x:Key="StatusOnlineBrush" Color="#FF00e676"/>
        <SolidColorBrush x:Key="StatusOfflineBrush" Color="#FFff3d00"/>
        <SolidColorBrush x:Key="StatusDisabledBrush" Color="#FF444444"/>
    </UserControl.Resources>
    <StackPanel DataContext="{Binding ElementName=ToolTipViewRoot}" Background="{StaticResource AppBackgroundBrush}">
        <!-- Bind Title to the Device property of this UserControl -->
        <TextBlock Text="{Binding Device.Name, StringFormat='Status for {0}'}" FontWeight="Bold" Margin="0,0,0,5" Foreground="{StaticResource TextPrimaryBrush}"/>

        <!-- IP 1 Status -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <TextBlock Grid.Column="0" Text="IP 1:" FontWeight="SemiBold" Foreground="{StaticResource TextPrimaryBrush}"/>
            <!-- Bind IP to the Device property -->
            <TextBlock Grid.Column="1" Text="{Binding Device.IPAddressInfo.Address}" Margin="10,0" Foreground="{StaticResource TextSecondaryBrush}"/>
            <TextBlock Grid.Column="2" FontWeight="Bold">
                <TextBlock.Style>
                    <Style TargetType="TextBlock">
                        <Setter Property="Text" Value="Offline"/>
                        <Setter Property="Foreground" Value="{StaticResource StatusOfflineBrush}"/>
                        <Style.Triggers>
                            <!-- Bind Status to the Device property -->
                            <DataTrigger Binding="{Binding Device.Connected}" Value="True">
                                <Setter Property="Text" Value="Online"/>
                                <Setter Property="Foreground" Value="{StaticResource StatusOnlineBrush}"/>
                            </DataTrigger>
                            <!-- Bind Ping status to the Device property -->
                            <DataTrigger Binding="{Binding Device.Ping}" Value="False">
                                <Setter Property="Text" Value="Disabled"/>
                                <Setter Property="Foreground" Value="{StaticResource TextSecondaryBrush}"/>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </TextBlock.Style>
            </TextBlock>
        </Grid>

        <!-- IP 2 Status (Only shown if enabled) -->
        <Grid>
            <Grid.Style>
                <Style TargetType="Grid">
                    <Setter Property="Visibility" Value="Collapsed"/>
                    <Style.Triggers>
                        <!-- Bind Visibility to the Device property -->
                        <DataTrigger Binding="{Binding Device.SecondIPAddress}" Value="True">
                            <Setter Property="Visibility" Value="Visible"/>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </Grid.Style>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <TextBlock Grid.Column="0" Text="IP 2:" FontWeight="SemiBold" Foreground="{StaticResource TextPrimaryBrush}"/>
            <!-- Bind IP to the Device property -->
            <TextBlock Grid.Column="1" Text="{Binding Device.IPAddressInfo2.Address}" Margin="10,0" Foreground="{StaticResource TextSecondaryBrush}"/>
            <TextBlock Grid.Column="2" FontWeight="Bold">
                <TextBlock.Style>
                    <Style TargetType="TextBlock">
                        <Setter Property="Text" Value="Offline"/>
                        <Setter Property="Foreground" Value="{StaticResource StatusOfflineBrush}"/>
                        <Style.Triggers>
                            <!-- Bind Status to the Device property -->
                            <DataTrigger Binding="{Binding Device.Connected2}" Value="True">
                                <Setter Property="Text" Value="Online"/>
                                <Setter Property="Foreground" Value="{StaticResource StatusOnlineBrush}"/>
                            </DataTrigger>
                            <!-- Bind Ping status to the Device property -->
                            <DataTrigger Binding="{Binding Device.Ping}" Value="False">
                                <Setter Property="Text" Value="Disabled"/>
                                <Setter Property="Foreground" Value="{StaticResource TextSecondaryBrush}"/>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </TextBlock.Style>
            </TextBlock>
        </Grid>
    </StackPanel>
</UserControl>
